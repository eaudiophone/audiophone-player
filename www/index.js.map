{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["// registro de SW.\nif (navigator.serviceWorker) navigator.serviceWorker.register('./sw.js');\n\ninterface Track {\n    name: string;\n    index: number;\n    filePath: string;\n    selected: boolean;\n    format: string;\n}\n\ninterface State {\n    playlist: Array<Track>;\n    selectedTrack: Track | null;\n    setPlaylist: (playlist: Array<Track>) => void;\n    setSelectedTrack: (track: Track) => void;\n    audio: any | null;\n    setAudio: (data: {filePath: string, format: string}) => void;\n}\n\ninterface UI {\n    uploadButton: HTMLButtonElement,\n    inputFile: HTMLInputElement,\n    playListData: HTMLSpanElement | HTMLDivElement,\n    inputSearch: HTMLInputElement,\n    player: HTMLDivElement,\n    volume: HTMLInputElement,\n    buttonPlay: HTMLButtonElement,\n    durationTrack: HTMLSpanElement,\n    timerTrack: HTMLSpanElement,\n    progress: HTMLInputElement,\n    nextTrack: HTMLButtonElement,\n    prevTrack: HTMLButtonElement,\n    titleTrack: HTMLSpanElement,\n}\n\n/** inicializa el estado de la aplicacion */\nfunction initState(set: any) {\n    const STATE: State = {\n        playlist: [],\n        selectedTrack: null,\n        audio: null,\n        setPlaylist: playlist => set((state: State) => ({ ...state, playlist })),\n        setSelectedTrack: track => set((state: State) => ({ ...state, selectedTrack: track })),\n        setAudio: ({filePath, format}) => set((state: State) => {\n            if (state.audio) state.audio.unload(); // desmonta el sonido si existe una instancia\n\n            // crea una referencia local que apunta al mismo objeto de sonido\n            // para acceder al objeto sound dentro del objeto de config de howler\n            let sound = state.audio = new Howl({\n                src: [filePath],\n                html5: true, // html5 streaming, ideal para grandes buffer de datos\n                format: [format],\n                onload: () => {\n                    if (UI.buttonPlay.getAttribute('value') === 'play') UI.buttonPlay.click();\n                },\n                onloaderror: (id: number, error: any) => {\n                    console.error('Error al cargar el audio', filePath, error);\n                },\n                onplay: () => {\n                    if (!UI.durationTrack) return;\n\n                    let duration = sound.duration();\n                    UI.durationTrack.innerHTML = formatTime(Math.round(duration));\n\n                    requestAnimationFrame(updateTimer);\n                },\n                onend: () => {\n                    if (UI.buttonPlay.getAttribute('value') === 'pause') UI.buttonPlay.click();\n\n                    // pasamos a la siguiente valor de la lista de reproduccion \n                    // si no es el ultima pista\n                    if (state.selectedTrack && state.selectedTrack.index !== (state.playlist.length - 1)) UI.nextTrack.click();\n                }\n            });\n\n            return { ...state, audio: sound };\n        }),\n    };\n\n    return STATE;\n}\n\n/** aplica un formato al tiempo de reproduccion */\nfunction formatTime(seconds: number) {\n    let minutes = Math.floor(seconds / 60) || 0;\n    let secs = (seconds - minutes * 60) || 0;\n\n    return (`${minutes}:${secs < 10 ? '0' : ''}${secs}`);\n}\n\n/**\n* funcion que controla la actualizacion del tiempo\n*/\nfunction updateTimer() {\n    /** @type {State} */\n    const { audio } = STORE.getState();\n    const seek = audio.seek() || 0;\n\n    if (UI.timerTrack) UI.timerTrack.innerHTML = formatTime(Math.round(seek));\n\n    let width = ((seek / audio.duration()) * 100) || 0;\n\n    if (UI.progress) {\n        // establecemos los estilos de la linea\n        (UI.progress as HTMLInputElement).value = width.toString();\n        UI.progress.style.background = (`linear-gradient(to right, var(--color-indicators) ${width}%, var(--borders) ${width}%)`);\n    }\n\n    // ejecuta la animacion mientras se reproduce la pista\n    if (audio.playing()) requestAnimationFrame(updateTimer);\n}\n\n/**\n * salta a la pista siguiente\n * @param {'next' | 'prev'} direction \n */\nfunction skipTo(direction: 'next' | 'prev' = 'next') {\n    const {\n        playlist,\n        selectedTrack,\n        audio,\n        setSelectedTrack,\n        setPlaylist\n    }: State = STORE.getState();\n\n    if (playlist.length === 0 || !selectedTrack) return;\n\n    let index = selectedTrack.index || 0;\n\n    if (direction === 'prev') {\n        index = selectedTrack.index - 1;\n\n        // nos ubica al ultimo de la lista\n        if (index < 0) index = playlist.length - 1;\n    }\n\n    if (direction === 'next') {\n        index = selectedTrack.index + 1;\n\n        // si alcanza el limite retrocede al primer elemento\n        if (index >= playlist.length) index = 0;\n    }\n\n    // detiene la pista actual\n    audio.stop();\n    if (UI.buttonPlay.getAttribute('value') === 'pause') UI.buttonPlay.click();\n\n    // reset progress\n    // establecemos los estilos de la linea\n    (UI.progress as HTMLInputElement).value = (0).toString();\n    UI.progress.style.background = (`var(--borders)`);\n\n    // actualiza la lista con la nueva posicion seleccionada\n    // para se\u00F1alar el nuevo elemento\n    const newPlaylist: Track[] = playlist.map(track => {\n        if (track.index === index) {\n            return { ...track, selected: true };\n        }\n\n        return { ...track, selected: false };\n    });\n\n    setPlaylist(newPlaylist);\n\n    setSelectedTrack(playlist[index]);\n}\n\n/**\n * salta a cualquier seccion de la pista\n * @param {MouseEvent} event \n */\nfunction jumpTo(event: MouseEvent) {\n    const { playlist, selectedTrack, audio }: State = STORE.getState();\n\n    if (playlist.length === 0 || !selectedTrack) return;\n\n    // permite obtener el porcentaje de la posicion donde se hace \n    // click al indicador\n    let per = event.clientX / window.innerWidth;\n\n    // aplicamos el salto y luego la animacion\n    if (audio.playing()) audio.seek(audio.duration() * per);\n}\n\n/**\n* carga la pista en el reproductor\n* @param {number} index indice de la pista\n* @returns \n*/\nfunction loadTrack(index: number) {\n    const state: State = STORE.getState();\n    \n    if (state.playlist.length === 0) {\n        console.error('No tracks loaded ...');\n        return;\n    }\n\n    // se genera una playlist nueva\n    const newPlaylist: Track[] = state.playlist.map(track => {\n        if (track.index === index) return {...track, selected: true};\n        return {...track, selected: false};\n    });\n    \n    // console.log(newPlaylist);\n\n    state.setPlaylist(newPlaylist);\n\n    // procedemos a pasar los datos al componente del reproductor\n    const track = newPlaylist.find(track => track.index === index) || null;\n    \n    if (track) state.setSelectedTrack(track);\n}\n\n/**\n * Manejador del boton de carga de archivos\n */\nasync function handleLoadButton() {\n    const playlist = await getFiles();\n    \n    if (!playlist) return;\n\n    const state: State = STORE.getState();\n\n    // establecemos una copia en el session storage\n    window.sessionStorage.setItem('playlist', JSON.stringify(playlist));\n    \n    state.setPlaylist(playlist);\n}\n\n/** obtiene la instancias de los archivos */\nasync function getFiles(): Promise<Track[]> {\n    return new Promise(resolve => {\n        UI.inputFile.addEventListener('input', event => {\n            const {files} = (event.target as any);\n        \n            let tracks: Track[] = [];\n        \n            for (const file of files) {\n                tracks = [\n                    ...tracks, \n                    {\n                        selected: false, \n                        index: tracks.length, \n                        name: file.name || '', \n                        filePath: URL.createObjectURL(file),\n                        // manda el formato a howler ya que el filePath\n                        // para que reproduzca el archivo\n                        format: file.type.split('/')[1] \n                    }\n                ];\n            }\n            \n            resolve(tracks);\n    \n        }, {once: true}); // el evento se ejecuta solo una vez\n        \n        // llamamos al input file cuando registre el cambio dispara el evento\n        UI.inputFile.click();\n    });\n};\n\n/**\n * busca la pista dentro de la lista de reproduccion\n * @param {InputEvent} event \n */\nfunction searchTrack(event: any) {\n    /** @type {State} */\n    const state: State = STORE.getState();\n\n    let value: string = event.target.value;\n    let playList: Track[] = [];\n\n    if (value.length === 0) {\n        // obtenemos desde el session storage\n        // luego verificamos si existe una pista seleccionada\n        // y la marcamos para que aparezca seleccionado en pista\n\n        playList = JSON\n            .parse(window.sessionStorage.getItem('playlist') || '{}')\n            .map((track: Track) => {\n                if (state.selectedTrack && track.index === state.selectedTrack.index) {\n                    return {...track, selected: true};\n                }\n\n                return track;\n            });\n\n    } else {\n        // validar datos alfanumericos ...\n        value = value.toLowerCase(); // pasamos a lowercase\n        \n        if (!(/^[\\w\\s\\d]{1,255}$/).test(value)) {\n            console.error(new Error('Solo caracteres alfan\u00FAmericos'));\n            return;\n        }\n\n        // filtramos la lista\n        // devuelve las coincidencias\n        playList = state.playlist.filter(track => {\n            const position = (track.name.toLowerCase()).search(value);\n            return (position !== -1); \n        });\n    }\n\n    // actualizamos la nuevo playlist\n    state.setPlaylist(playList);\n}\n\n/** cambia la pista en el reproductor */\nfunction switchTrack() {\n    const {audio}: State = STORE.getState();\n\n    audio.stop();\n\n    // cambiamos los atributos del boton\n    UI.buttonPlay.setAttribute('value', 'pause');\n    UI.buttonPlay.setAttribute('src', 'img/play.svg');\n\n    // reproducimos la nueva pista\n    UI.buttonPlay.click();\n}\n\n/**\n * renderiza el listado de archivos de musica\n * @param {State} state\n * @param {State} prevState \n */\nfunction renderPlaylist(state: State, prevState: State) {\n    if (state.playlist === prevState.playlist) return;\n    if (state.playlist.length === 0) return;\n\n    UI.playListData.innerHTML = state.playlist.map(file => {\n        return (`\n            <div class=\"item ${file.selected ? 'selected' : ''}\" track=\"${file.index}\">\n                <img src=\"img/play.svg\" alt=\"play\" class=\"icons\" />\n                <span>${\n                    file.name.length > 35 ? \n                        file.name.slice(0, 35) + '...' : \n                        file.name\n                }</span>\n            </div>    \n        `);\n    }).join('');\n    \n    // a\u00F1adimos los eventos de click\n    const items = Array.from(UI.playListData.querySelectorAll('.item'));\n    items.forEach(item => item.addEventListener(\n        'click', \n        () => loadTrack(Number(item.getAttribute('track')))\n    ));\n}\n\n/**\n * crea la instancia de howler e inicia el reproductor\n * @param {State} state\n * @param {State} prevState \n */\nfunction loadTrackPlayer(state: State, prevState: State) {\n    if (state.selectedTrack === prevState.selectedTrack) return;\n    if (!UI.titleTrack) return;\n\n    if (!state.selectedTrack) {\n        UI.titleTrack.innerText = 'No track loaded';            \n        return;\n    }\n    \n    // cambia la pista\n    if (state.audio && state.audio.playing()) switchTrack();\n\n    UI.titleTrack.innerText = state.selectedTrack.name;\n\n    // genera la instancia de Howler.js\n    state.setAudio({\n        filePath: state.selectedTrack.filePath, \n        format: state.selectedTrack.format || 'mp3'\n    });\n}\n\n/**\n * manejador de instancias de howler\n * @param {Event} event \n */\nfunction handleVolume(event: any) {\n    const element = event.target;\n\n    let value = Number(element.value); \n    let maxValue = Number(element.max);\n    let progress = (value / maxValue) * 100;\n    \n    // establecemos los estilos de la linea\n    element.style.background = (`linear-gradient(to right, var(--foreground) ${progress}%, var(--borders) ${progress}%)`);\n    \n    // establece el volumen global de todas las instancias de Howler\n    Howler.volume(value / 100);\n}\n\n/**\n * maneja la reproduccion de la pista de audio\n * @param {Event} event\n */\nfunction handlePlay({target}: any) {\n    const {audio, playlist, selectedTrack}: State = STORE.getState();\n\n    // validamos si existe alguna pista en la playlist\n    let isNotReady = playlist.length === 0 || !selectedTrack;\n    if (isNotReady) return;\n\n    /** @type {'pause' | 'play'} */\n    const value = target.getAttribute('value');\n    \n    if (value === 'pause') {\n        // cambia la imagen del boton \n        target.setAttribute('value', 'play');\n        target.setAttribute('src', 'img/play.svg');\n\n        if (audio && audio.state() === 'loaded') {\n            audio.pause(); \n        \n        } else if (audio && audio.state() !== 'loading') {\n            console.warn('No se ha cargado ning\u00FAn archivo de audio o a\u00FAn est\u00E1 cargando.');\n        \n        }\n    }\n    \n    if (value === 'play') {\n        target.setAttribute('value', 'pause');\n        target.setAttribute('src', 'img/pause.svg');\n\n        if (audio && audio.state() === 'loaded') {\n            audio.play();\n        \n        } else if (audio && audio.state() !== 'loading') {\n            console.warn('No se ha cargado ning\u00FAn archivo de audio o a\u00FAn est\u00E1 cargando.');\n        \n        }\n    }\n}\n\ndeclare var Howl: any, Howler: any, zustandVanilla: any;\n\nconst UI: UI = {\n    uploadButton: document.querySelector('button#load-playlist')!,\n    inputFile: document.querySelector('#upload-input')!,\n    playListData: document.querySelector('#playlist #data')!,\n    inputSearch: document.querySelector('#search')!,\n    player: document.querySelector('footer#player')!,\n    volume: document.querySelector('footer #indicator-volume')!,\n    buttonPlay: document.querySelector('#play-pause')!,\n    durationTrack: document.querySelector('span#duration')!,\n    timerTrack: document.querySelector('span#timer')!,\n    progress: document.querySelector('#progress')!,\n    nextTrack: document.querySelector('#next')!,\n    prevTrack: document.querySelector('#prev')!,\n    titleTrack: document.querySelector('#title-track')!,\n};\n\nconst STORE = zustandVanilla.createStore(initState);\n\n// nos subscribimos a los cambios del estado para renderizar\n// la lista de reproduccion y la pista seleccionada\nSTORE.subscribe(renderPlaylist);\nSTORE.subscribe(loadTrackPlayer); \n\n// eventos\nUI.uploadButton.addEventListener('click', handleLoadButton);\nUI.buttonPlay.addEventListener('click', handlePlay);\nUI.volume.addEventListener('input', handleVolume);\nUI.inputSearch.addEventListener('input', searchTrack); // busca la pista\nUI.prevTrack.addEventListener('click', () => skipTo('prev'));\nUI.nextTrack.addEventListener('click', () => skipTo('next'));\nUI.progress.addEventListener('click', jumpTo);\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;AACA,MAAI,UAAU,cAAe,WAAU,cAAc,SAAS,SAAS;AAoCvE,WAAS,UAAU,KAAU;AACzB,UAAM,QAAe;AAAA,MACjB,UAAU,CAAC;AAAA,MACX,eAAe;AAAA,MACf,OAAO;AAAA,MACP,aAAa,cAAY,IAAI,CAAC,UAAkB,iCAAK,QAAL,EAAY,SAAS,EAAE;AAAA,MACvE,kBAAkB,WAAS,IAAI,CAAC,UAAkB,iCAAK,QAAL,EAAY,eAAe,MAAM,EAAE;AAAA,MACrF,UAAU,CAAC,EAAC,UAAU,OAAM,MAAM,IAAI,CAAC,UAAiB;AACpD,YAAI,MAAM,MAAO,OAAM,MAAM,OAAO;AAIpC,YAAI,QAAQ,MAAM,QAAQ,IAAI,KAAK;AAAA,UAC/B,KAAK,CAAC,QAAQ;AAAA,UACd,OAAO;AAAA;AAAA,UACP,QAAQ,CAAC,MAAM;AAAA,UACf,QAAQ,MAAM;AACV,gBAAI,GAAG,WAAW,aAAa,OAAO,MAAM,OAAQ,IAAG,WAAW,MAAM;AAAA,UAC5E;AAAA,UACA,aAAa,CAAC,IAAY,UAAe;AACrC,oBAAQ,MAAM,4BAA4B,UAAU,KAAK;AAAA,UAC7D;AAAA,UACA,QAAQ,MAAM;AACV,gBAAI,CAAC,GAAG,cAAe;AAEvB,gBAAI,WAAW,MAAM,SAAS;AAC9B,eAAG,cAAc,YAAY,WAAW,KAAK,MAAM,QAAQ,CAAC;AAE5D,kCAAsB,WAAW;AAAA,UACrC;AAAA,UACA,OAAO,MAAM;AACT,gBAAI,GAAG,WAAW,aAAa,OAAO,MAAM,QAAS,IAAG,WAAW,MAAM;AAIzE,gBAAI,MAAM,iBAAiB,MAAM,cAAc,UAAW,MAAM,SAAS,SAAS,EAAI,IAAG,UAAU,MAAM;AAAA,UAC7G;AAAA,QACJ,CAAC;AAED,eAAO,iCAAK,QAAL,EAAY,OAAO,MAAM;AAAA,MACpC,CAAC;AAAA,IACL;AAEA,WAAO;AAAA,EACX;AAGA,WAAS,WAAW,SAAiB;AACjC,QAAI,UAAU,KAAK,MAAM,UAAU,EAAE,KAAK;AAC1C,QAAI,OAAQ,UAAU,UAAU,MAAO;AAEvC,WAAQ,GAAG,OAAO,IAAI,OAAO,KAAK,MAAM,EAAE,GAAG,IAAI;AAAA,EACrD;AAKA,WAAS,cAAc;AAEnB,UAAM,EAAE,MAAM,IAAI,MAAM,SAAS;AACjC,UAAM,OAAO,MAAM,KAAK,KAAK;AAE7B,QAAI,GAAG,WAAY,IAAG,WAAW,YAAY,WAAW,KAAK,MAAM,IAAI,CAAC;AAExE,QAAI,QAAU,OAAO,MAAM,SAAS,IAAK,OAAQ;AAEjD,QAAI,GAAG,UAAU;AAEb,MAAC,GAAG,SAA8B,QAAQ,MAAM,SAAS;AACzD,SAAG,SAAS,MAAM,aAAc,qDAAqD,KAAK,qBAAqB,KAAK;AAAA,IACxH;AAGA,QAAI,MAAM,QAAQ,EAAG,uBAAsB,WAAW;AAAA,EAC1D;AAMA,WAAS,OAAO,YAA6B,QAAQ;AACjD,UAAM;AAAA,MACF;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,MACA;AAAA,IACJ,IAAW,MAAM,SAAS;AAE1B,QAAI,SAAS,WAAW,KAAK,CAAC,cAAe;AAE7C,QAAI,QAAQ,cAAc,SAAS;AAEnC,QAAI,cAAc,QAAQ;AACtB,cAAQ,cAAc,QAAQ;AAG9B,UAAI,QAAQ,EAAG,SAAQ,SAAS,SAAS;AAAA,IAC7C;AAEA,QAAI,cAAc,QAAQ;AACtB,cAAQ,cAAc,QAAQ;AAG9B,UAAI,SAAS,SAAS,OAAQ,SAAQ;AAAA,IAC1C;AAGA,UAAM,KAAK;AACX,QAAI,GAAG,WAAW,aAAa,OAAO,MAAM,QAAS,IAAG,WAAW,MAAM;AAIzE,IAAC,GAAG,SAA8B,QAAS,GAAG,SAAS;AACvD,OAAG,SAAS,MAAM,aAAc;AAIhC,UAAM,cAAuB,SAAS,IAAI,WAAS;AAC/C,UAAI,MAAM,UAAU,OAAO;AACvB,eAAO,iCAAK,QAAL,EAAY,UAAU,KAAK;AAAA,MACtC;AAEA,aAAO,iCAAK,QAAL,EAAY,UAAU,MAAM;AAAA,IACvC,CAAC;AAED,gBAAY,WAAW;AAEvB,qBAAiB,SAAS,KAAK,CAAC;AAAA,EACpC;AAMA,WAAS,OAAO,OAAmB;AAC/B,UAAM,EAAE,UAAU,eAAe,MAAM,IAAW,MAAM,SAAS;AAEjE,QAAI,SAAS,WAAW,KAAK,CAAC,cAAe;AAI7C,QAAI,MAAM,MAAM,UAAU,OAAO;AAGjC,QAAI,MAAM,QAAQ,EAAG,OAAM,KAAK,MAAM,SAAS,IAAI,GAAG;AAAA,EAC1D;AAOA,WAAS,UAAU,OAAe;AAC9B,UAAM,QAAe,MAAM,SAAS;AAEpC,QAAI,MAAM,SAAS,WAAW,GAAG;AAC7B,cAAQ,MAAM,sBAAsB;AACpC;AAAA,IACJ;AAGA,UAAM,cAAuB,MAAM,SAAS,IAAI,CAAAA,WAAS;AACrD,UAAIA,OAAM,UAAU,MAAO,QAAO,iCAAIA,SAAJ,EAAW,UAAU,KAAI;AAC3D,aAAO,iCAAIA,SAAJ,EAAW,UAAU,MAAK;AAAA,IACrC,CAAC;AAID,UAAM,YAAY,WAAW;AAG7B,UAAM,QAAQ,YAAY,KAAK,CAAAA,WAASA,OAAM,UAAU,KAAK,KAAK;AAElE,QAAI,MAAO,OAAM,iBAAiB,KAAK;AAAA,EAC3C;AAKA,iBAAe,mBAAmB;AAC9B,UAAM,WAAW,MAAM,SAAS;AAEhC,QAAI,CAAC,SAAU;AAEf,UAAM,QAAe,MAAM,SAAS;AAGpC,WAAO,eAAe,QAAQ,YAAY,KAAK,UAAU,QAAQ,CAAC;AAElE,UAAM,YAAY,QAAQ;AAAA,EAC9B;AAGA,iBAAe,WAA6B;AACxC,WAAO,IAAI,QAAQ,aAAW;AAC1B,SAAG,UAAU,iBAAiB,SAAS,WAAS;AAC5C,cAAM,EAAC,MAAK,IAAK,MAAM;AAEvB,YAAI,SAAkB,CAAC;AAEvB,mBAAW,QAAQ,OAAO;AACtB,mBAAS;AAAA,YACL,GAAG;AAAA,YACH;AAAA,cACI,UAAU;AAAA,cACV,OAAO,OAAO;AAAA,cACd,MAAM,KAAK,QAAQ;AAAA,cACnB,UAAU,IAAI,gBAAgB,IAAI;AAAA;AAAA;AAAA,cAGlC,QAAQ,KAAK,KAAK,MAAM,GAAG,EAAE,CAAC;AAAA,YAClC;AAAA,UACJ;AAAA,QACJ;AAEA,gBAAQ,MAAM;AAAA,MAElB,GAAG,EAAC,MAAM,KAAI,CAAC;AAGf,SAAG,UAAU,MAAM;AAAA,IACvB,CAAC;AAAA,EACL;AAMA,WAAS,YAAY,OAAY;AAE7B,UAAM,QAAe,MAAM,SAAS;AAEpC,QAAI,QAAgB,MAAM,OAAO;AACjC,QAAI,WAAoB,CAAC;AAEzB,QAAI,MAAM,WAAW,GAAG;AAKpB,iBAAW,KACN,MAAM,OAAO,eAAe,QAAQ,UAAU,KAAK,IAAI,EACvD,IAAI,CAAC,UAAiB;AACnB,YAAI,MAAM,iBAAiB,MAAM,UAAU,MAAM,cAAc,OAAO;AAClE,iBAAO,iCAAI,QAAJ,EAAW,UAAU,KAAI;AAAA,QACpC;AAEA,eAAO;AAAA,MACX,CAAC;AAAA,IAET,OAAO;AAEH,cAAQ,MAAM,YAAY;AAE1B,UAAI,CAAE,oBAAqB,KAAK,KAAK,GAAG;AACpC,gBAAQ,MAAM,IAAI,MAAM,kCAA+B,CAAC;AACxD;AAAA,MACJ;AAIA,iBAAW,MAAM,SAAS,OAAO,WAAS;AACtC,cAAM,WAAY,MAAM,KAAK,YAAY,EAAG,OAAO,KAAK;AACxD,eAAQ,aAAa;AAAA,MACzB,CAAC;AAAA,IACL;AAGA,UAAM,YAAY,QAAQ;AAAA,EAC9B;AAGA,WAAS,cAAc;AACnB,UAAM,EAAC,MAAK,IAAW,MAAM,SAAS;AAEtC,UAAM,KAAK;AAGX,OAAG,WAAW,aAAa,SAAS,OAAO;AAC3C,OAAG,WAAW,aAAa,OAAO,cAAc;AAGhD,OAAG,WAAW,MAAM;AAAA,EACxB;AAOA,WAAS,eAAe,OAAc,WAAkB;AACpD,QAAI,MAAM,aAAa,UAAU,SAAU;AAC3C,QAAI,MAAM,SAAS,WAAW,EAAG;AAEjC,OAAG,aAAa,YAAY,MAAM,SAAS,IAAI,UAAQ;AACnD,aAAQ;AAAA,+BACe,KAAK,WAAW,aAAa,EAAE,YAAY,KAAK,KAAK;AAAA;AAAA,wBAGhE,KAAK,KAAK,SAAS,KACf,KAAK,KAAK,MAAM,GAAG,EAAE,IAAI,QACzB,KAAK,IACb;AAAA;AAAA;AAAA,IAGZ,CAAC,EAAE,KAAK,EAAE;AAGV,UAAM,QAAQ,MAAM,KAAK,GAAG,aAAa,iBAAiB,OAAO,CAAC;AAClE,UAAM,QAAQ,UAAQ,KAAK;AAAA,MACvB;AAAA,MACA,MAAM,UAAU,OAAO,KAAK,aAAa,OAAO,CAAC,CAAC;AAAA,IACtD,CAAC;AAAA,EACL;AAOA,WAAS,gBAAgB,OAAc,WAAkB;AACrD,QAAI,MAAM,kBAAkB,UAAU,cAAe;AACrD,QAAI,CAAC,GAAG,WAAY;AAEpB,QAAI,CAAC,MAAM,eAAe;AACtB,SAAG,WAAW,YAAY;AAC1B;AAAA,IACJ;AAGA,QAAI,MAAM,SAAS,MAAM,MAAM,QAAQ,EAAG,aAAY;AAEtD,OAAG,WAAW,YAAY,MAAM,cAAc;AAG9C,UAAM,SAAS;AAAA,MACX,UAAU,MAAM,cAAc;AAAA,MAC9B,QAAQ,MAAM,cAAc,UAAU;AAAA,IAC1C,CAAC;AAAA,EACL;AAMA,WAAS,aAAa,OAAY;AAC9B,UAAM,UAAU,MAAM;AAEtB,QAAI,QAAQ,OAAO,QAAQ,KAAK;AAChC,QAAI,WAAW,OAAO,QAAQ,GAAG;AACjC,QAAI,WAAY,QAAQ,WAAY;AAGpC,YAAQ,MAAM,aAAc,+CAA+C,QAAQ,qBAAqB,QAAQ;AAGhH,WAAO,OAAO,QAAQ,GAAG;AAAA,EAC7B;AAMA,WAAS,WAAW,EAAC,OAAM,GAAQ;AAC/B,UAAM,EAAC,OAAO,UAAU,cAAa,IAAW,MAAM,SAAS;AAG/D,QAAI,aAAa,SAAS,WAAW,KAAK,CAAC;AAC3C,QAAI,WAAY;AAGhB,UAAM,QAAQ,OAAO,aAAa,OAAO;AAEzC,QAAI,UAAU,SAAS;AAEnB,aAAO,aAAa,SAAS,MAAM;AACnC,aAAO,aAAa,OAAO,cAAc;AAEzC,UAAI,SAAS,MAAM,MAAM,MAAM,UAAU;AACrC,cAAM,MAAM;AAAA,MAEhB,WAAW,SAAS,MAAM,MAAM,MAAM,WAAW;AAC7C,gBAAQ,KAAK,wEAA+D;AAAA,MAEhF;AAAA,IACJ;AAEA,QAAI,UAAU,QAAQ;AAClB,aAAO,aAAa,SAAS,OAAO;AACpC,aAAO,aAAa,OAAO,eAAe;AAE1C,UAAI,SAAS,MAAM,MAAM,MAAM,UAAU;AACrC,cAAM,KAAK;AAAA,MAEf,WAAW,SAAS,MAAM,MAAM,MAAM,WAAW;AAC7C,gBAAQ,KAAK,wEAA+D;AAAA,MAEhF;AAAA,IACJ;AAAA,EACJ;AAIA,MAAM,KAAS;AAAA,IACX,cAAc,SAAS,cAAc,sBAAsB;AAAA,IAC3D,WAAW,SAAS,cAAc,eAAe;AAAA,IACjD,cAAc,SAAS,cAAc,iBAAiB;AAAA,IACtD,aAAa,SAAS,cAAc,SAAS;AAAA,IAC7C,QAAQ,SAAS,cAAc,eAAe;AAAA,IAC9C,QAAQ,SAAS,cAAc,0BAA0B;AAAA,IACzD,YAAY,SAAS,cAAc,aAAa;AAAA,IAChD,eAAe,SAAS,cAAc,eAAe;AAAA,IACrD,YAAY,SAAS,cAAc,YAAY;AAAA,IAC/C,UAAU,SAAS,cAAc,WAAW;AAAA,IAC5C,WAAW,SAAS,cAAc,OAAO;AAAA,IACzC,WAAW,SAAS,cAAc,OAAO;AAAA,IACzC,YAAY,SAAS,cAAc,cAAc;AAAA,EACrD;AAEA,MAAM,QAAQ,eAAe,YAAY,SAAS;AAIlD,QAAM,UAAU,cAAc;AAC9B,QAAM,UAAU,eAAe;AAG/B,KAAG,aAAa,iBAAiB,SAAS,gBAAgB;AAC1D,KAAG,WAAW,iBAAiB,SAAS,UAAU;AAClD,KAAG,OAAO,iBAAiB,SAAS,YAAY;AAChD,KAAG,YAAY,iBAAiB,SAAS,WAAW;AACpD,KAAG,UAAU,iBAAiB,SAAS,MAAM,OAAO,MAAM,CAAC;AAC3D,KAAG,UAAU,iBAAiB,SAAS,MAAM,OAAO,MAAM,CAAC;AAC3D,KAAG,SAAS,iBAAiB,SAAS,MAAM;",
  "names": ["track"]
}
