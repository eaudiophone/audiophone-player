{
  "version": 3,
  "sources": ["../src/sw.ts"],
  "sourcesContent": ["const APP_SHELL = {\n    CACHE_NAME: 'cache-v.0.1',\n    CACHE_STATIC: 'static-v.0.1',\n    CACHE_DYNAMIC: 'dynamic-v.0.1',\n    CACHE_INMUTABLE: 'inmutable-v.0.1',\n};\n\n/** estructura de la pagina 404 */\nconst offlinePage = (`\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Offline - Necesitas conexion</title>\n</head>\n<style>\n    :root {\n        --background: #000;\n        --foreground: #fff;\n        --borders: #3c3c3c;\n        --background-form: rgba(136, 136, 136, .5);\n        --color-indicators: #f50;\n    }\n    \n    body {\n        font-family: sans-serif;\n        background-color: var(--background);\n        color: var(--foreground);\n        margin: 0;\n        overflow-x: hidden;\n        height: 100vh;\n    }\n\n    .h-full {\n        height: inherit;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n    }\n\n    .button-offline {\n        padding: 12px 24px;\n        color: var(--foreground);\n        background-color: var(--color-indicators);\n        border: none;\n        outline: none;\n        cursor: pointer;\n        font-size: 1rem;\n    }\n</style>\n<body>\n    <div class=\"h-full\">\n        <h1>Sin conexion</h1>\n        <h3>Necesitas conexion a internet para continuar</h3>\n        <button onclick=\"window.location.reload();\" class=\"button-offline\">Recargar</button>\n    </div>\n</body>\n</html>     \n`);\n\n// SW\nself.addEventListener('install', (event: any) => {\n    console.info('installation SW');\n\n    const cacheStaticPromise = caches.open(APP_SHELL.CACHE_STATIC)\n        .then(cache => {\n            const files = [\n                './', \n                './index.html', \n                './index.css', \n                './index.js',\n                './img/note-double.svg',\n                './img/user.svg',\n                './img/home.svg',\n                './img/music-note.svg',\n                './img/play.svg',\n                './img/prev.svg',\n                './img/next.svg',\n                './img/sound-loud.svg',\n                './img/pause.svg',\n                './manifest.json'\n            ];\n\n            return cache.addAll(files);\n        });\n\n    const cacheInmutablePromise = caches.open(APP_SHELL.CACHE_INMUTABLE)\n        .then(cache => {\n            const files = [\n                './js/howler.min.js',\n                './js/zustand.js',\n                './fonts/Roboto-Bold.ttf',\n                './fonts/Roboto-Regular.ttf'\n            ];\n\n            return cache.addAll(files);\n        });\n\n    event.waitUntil(Promise.all([cacheStaticPromise, cacheInmutablePromise]));\n});\n\nself.addEventListener('fetch', (event: any) => {\n    console.info('cache with network fallback');\n   \n    const cacheNetwork = caches.match(event.request)\n        .then(cacheResponse => {\n            if (cacheResponse && cacheResponse.ok) return cacheResponse;\n\n            // sino existe la respuesta busca en la red\n            console.info('go to web');\n            \n            return fetch(event.request)\n                .then(webResponse => {\n                    caches.open(APP_SHELL.CACHE_DYNAMIC)\n                        .then(cache => {\n                            cache.put(event.request, webResponse)\n                        });\n                    \n                    // debemos retornar una copia de la peticion\n                    return webResponse.clone();\n                })\n                .catch(() => {\n                    const offlineResponse = new Response(\n                        offlinePage, \n                        { headers: {'Content-Type': 'text/html'}\n                        }\n                    );\n\n                    return offlineResponse                    \n                }); \n        });\n\n    event.respondWith(cacheNetwork);\n});"],
  "mappings": ";;;AAAA,MAAM,YAAY;AAAA,IACd,YAAY;AAAA,IACZ,cAAc;AAAA,IACd,eAAe;AAAA,IACf,iBAAiB;AAAA,EACrB;AAGA,MAAM,cAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuDrB,OAAK,iBAAiB,WAAW,CAAC,UAAe;AAC7C,YAAQ,KAAK,iBAAiB;AAE9B,UAAM,qBAAqB,OAAO,KAAK,UAAU,YAAY,EACxD,KAAK,WAAS;AACX,YAAM,QAAQ;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAEA,aAAO,MAAM,OAAO,KAAK;AAAA,IAC7B,CAAC;AAEL,UAAM,wBAAwB,OAAO,KAAK,UAAU,eAAe,EAC9D,KAAK,WAAS;AACX,YAAM,QAAQ;AAAA,QACV;AAAA,QACA;AAAA,QACA;AAAA,QACA;AAAA,MACJ;AAEA,aAAO,MAAM,OAAO,KAAK;AAAA,IAC7B,CAAC;AAEL,UAAM,UAAU,QAAQ,IAAI,CAAC,oBAAoB,qBAAqB,CAAC,CAAC;AAAA,EAC5E,CAAC;AAED,OAAK,iBAAiB,SAAS,CAAC,UAAe;AAC3C,YAAQ,KAAK,6BAA6B;AAE1C,UAAM,eAAe,OAAO,MAAM,MAAM,OAAO,EAC1C,KAAK,mBAAiB;AACnB,UAAI,iBAAiB,cAAc,GAAI,QAAO;AAG9C,cAAQ,KAAK,WAAW;AAExB,aAAO,MAAM,MAAM,OAAO,EACrB,KAAK,iBAAe;AACjB,eAAO,KAAK,UAAU,aAAa,EAC9B,KAAK,WAAS;AACX,gBAAM,IAAI,MAAM,SAAS,WAAW;AAAA,QACxC,CAAC;AAGL,eAAO,YAAY,MAAM;AAAA,MAC7B,CAAC,EACA,MAAM,MAAM;AACT,cAAM,kBAAkB,IAAI;AAAA,UACxB;AAAA,UACA;AAAA,YAAE,SAAS,EAAC,gBAAgB,YAAW;AAAA,UACvC;AAAA,QACJ;AAEA,eAAO;AAAA,MACX,CAAC;AAAA,IACT,CAAC;AAEL,UAAM,YAAY,YAAY;AAAA,EAClC,CAAC;",
  "names": []
}
